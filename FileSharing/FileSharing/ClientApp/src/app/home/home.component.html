<div class="row justify-content-center text-center mt-5 mb-4">
  <div class="col-5 p-3" style="border-radius:15px; background-color: forestgreen">
    <h1 style="color:azure">File sharing</h1>
  </div>
</div>

<div class="text-center" *ngIf="randomFiles.length === 0">
  <h3>Sign up to upload and see files.</h3>
</div>

<div class="mt-5" *ngIf="randomFiles.length > 0">
  <h1>Random files</h1>
  <div class="row card-list mt-3 mb-5 justify-content-center" style="grid-row-gap:15px">
    <div class="col-lg-4" *ngFor="let item of randomFiles">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col" style="text-align:left">
              <p class="fw-bold">{{item.title}}</p>
            </div>
            <div class="col" style="text-align:right">
              {{item.extension}}
            </div>
          </div>
        </div>
        <div class="card-body">
          <ul>
            <li>
              Category: {{item.categoryTitle}}
            </li>
          </ul>
        </div>
        <div class="card-footer">
          <div *ngIf="item.canBeDownloaded" class="row">
            <div class="col text-end justify-content-end">
              <a class="btn btn-success dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Options</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" style="cursor:pointer" (click)="onDownloadSubmit(item)">Download</a>
              </div>
            </div>
          </div>
          <div *ngIf="!item.canBeDownloaded" class="col">
            <div class="row">
              <div class="col">
                <label class="text-danger">DOWNLOAD RESTRICTED</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="mt-5" *ngIf="lastUploadedFiles.length > 0">
  <h1>Lastly uploaded files</h1>
  <div class="row card-list mt-3 mb-5 justify-content-center" style="grid-row-gap:15px">
    <div class="col-lg-4" *ngFor="let item of lastUploadedFiles">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col" style="text-align:left">
              <p class="fw-bold">{{item.title}}</p>
            </div>
            <div class="col" style="text-align:right">
              {{item.extension}}
            </div>
          </div>
        </div>
        <div class="card-body">
          <ul>
            <li>
              Category: {{item.categoryTitle}}
            </li>
            <li>
              Uploaded at: {{filesService.convertDate(item.uploadDate)}}
            </li>
          </ul>
        </div>
        <div class="card-footer">
          <div *ngIf="item.canBeDownloaded" class="row">
            <div class="col text-end justify-content-end">
              <a class="btn btn-success dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Options</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" style="cursor:pointer" (click)="onDownloadSubmit(item)">Download</a>
              </div>
            </div>
          </div>
          <div *ngIf="!item.canBeDownloaded" class="col">
            <div class="row">
              <div class="col">
                <label class="text-danger">DOWNLOAD RESTRICTED</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="mt-5" *ngIf="mostDownloadedFiles.length > 0">
  <h1>Most downloaded files</h1>
  <div class="row card-list mt-3 mb-5 justify-content-center" style="grid-row-gap:15px">
    <div class="col-lg-4" *ngFor="let item of mostDownloadedFiles">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col" style="text-align:left">
              <p class="fw-bold">{{item.title}}</p>
            </div>
            <div class="col" style="text-align:right">
              {{item.extension}}
            </div>
          </div>
        </div>
        <div class="card-body">
          <ul>
            <li>
              Category: {{item.categoryTitle}}
            </li>
            <li>
              Downloaded times: {{item.downloadCount}}
            </li>
          </ul>
        </div>
        <div class="card-footer">
          <div *ngIf="item.canBeDownloaded" class="row">
            <div class="col text-end justify-content-end">
              <a class="btn btn-success dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Options</a>
              <div class="dropdown-menu">
                <a class="dropdown-item" style="cursor:pointer" (click)="onDownloadSubmit(item)">Download</a>
              </div>
            </div>
          </div>
          <div *ngIf="!item.canBeDownloaded" class="col">
            <div class="row">
              <div class="col">
                <label class="text-danger">DOWNLOAD RESTRICTED</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

